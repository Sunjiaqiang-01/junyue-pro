# å›æ‚¦SPA - æŠ€å¸ˆé¢„çº¦æœåŠ¡å¹³å°

> åŸºäº Next.js 15 + Tailwind CSS 3 + Prisma + PostgreSQL çš„å…¨æ ˆSPAé¢„çº¦å¹³å°

---

## ğŸ“š é¡¹ç›®æ–‡æ¡£

- [é¡¹ç›®éœ€æ±‚æ–‡æ¡£](./é¡¹ç›®éœ€æ±‚æ–‡æ¡£.md)
- [æ•°æ®åº“è®¾è®¡æ–‡æ¡£](./æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md)
- [APIæ¥å£æ–‡æ¡£](./APIæ¥å£æ–‡æ¡£.md)
- [å¼€å‘è®¡åˆ’](./å¼€å‘è®¡åˆ’.md)
- [UIè®¾è®¡æ–¹æ¡ˆ](./å›æ‚¦SPA-é«˜çº§è®¾è®¡æ–¹æ¡ˆ.md)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 20+
- PostgreSQL 16+
- npm 10+

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000)

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Next.js 15.5.4** - Reactå…¨æ ˆæ¡†æ¶ï¼ˆApp Routerï¼‰
- **React 19.1.0** - UIæ¡†æ¶
- **TypeScript 5** - ç±»å‹å®‰å…¨

### æ ·å¼ç³»ç»Ÿ
- **Tailwind CSS 3.4.17** âš ï¸ é”å®šv3ç‰ˆæœ¬ï¼Œä¸å…¼å®¹v4
- **tailwindcss-animate** - åŠ¨ç”»å·¥å…·
- **Framer Motion** - é«˜çº§åŠ¨ç”»åº“

### UIç»„ä»¶
- **shadcn/ui** - åŸºç¡€ç»„ä»¶åº“
- **21st.devç»„ä»¶** - 35ä¸ªç²¾é€‰UIç»„ä»¶
- **Radix UI** - æ— éšœç¢ç»„ä»¶åŸºç¡€
- **Lucide React** - å›¾æ ‡åº“

### æ•°æ®åº“
- **PostgreSQL** - ä¸»æ•°æ®åº“
- **Prisma** - ORMæ¡†æ¶

### è®¤è¯
- **NextAuth.js v5** - èº«ä»½è®¤è¯

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

### Tailwind CSSç‰ˆæœ¬é”å®š

**é¡¹ç›®å¿…é¡»ä½¿ç”¨ Tailwind CSS v3.xï¼Œç¦æ­¢å‡çº§åˆ°v4ï¼**

**åŸå› ï¼š**
- 21st.devçš„UIç»„ä»¶åŸºäºTailwind v3å¼€å‘
- v4çš„é…ç½®è¯­æ³•ä¸v3ä¸å…¼å®¹
- v4çš„è‡ªå®šä¹‰é¢œè‰²æ‰©å±•æœºåˆ¶æ”¹å˜

**å½“å‰ç‰ˆæœ¬ï¼š**
```json
{
  "tailwindcss": "3.4.17",
  "postcss": "8.4.49",
  "autoprefixer": "10.4.20"
}
```

**æ­£ç¡®çš„é…ç½®æ–‡ä»¶ï¼š**

`postcss.config.mjs`:
```javascript
const config = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
export default config;
```

`src/app/globals.css`:
```css
@tailwind base;
@tailwind components;
@tailwind utilities;

/* âŒ ç¦æ­¢ä½¿ç”¨v4è¯­æ³•ï¼š
@plugin "xxx"
@custom-variant
@theme inline
*/
```

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1: UIç»„ä»¶æ¸å˜æ•ˆæœä¸æ˜¾ç¤º

**ç—‡çŠ¶ï¼š**
- æŒ‰é’®åº”è¯¥æœ‰é‡‘è‰²â†’ç´«è‰²æ¸å˜ï¼Œä½†åªæ˜¾ç¤ºå•è‰²
- è‡ªå®šä¹‰é¢œè‰²ç±»åï¼ˆå¦‚ `from-primary-purple`ï¼‰ä¸ç”Ÿæ•ˆ

**åŸå› ï¼š**
- Tailwindé…ç½®ä¿®æ”¹åæœªé‡å¯æœåŠ¡å™¨
- æˆ–è€…é”™è¯¯å‡çº§åˆ°äº†v4

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# 1. åœæ­¢å¼€å‘æœåŠ¡å™¨ï¼ˆCtrl+Cï¼‰
# 2. æ¸…é™¤ç¼“å­˜
Remove-Item -Path .next -Recurse -Force
# 3. é‡å¯æœåŠ¡å™¨
npm run dev
```

### é—®é¢˜2: ç¼–è¯‘é”™è¯¯ `Cannot find module '@tailwindcss/postcss'`

**ç—‡çŠ¶ï¼š**
```
Error: Cannot find module '@tailwindcss/postcss'
```

**åŸå› ï¼š**
- `postcss.config.mjs` ä½¿ç”¨äº†v4è¯­æ³•
- æˆ–è€… `globals.css` åŒ…å«v4ç‰¹æœ‰æŒ‡ä»¤

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# 1. æ£€æŸ¥å¹¶ä¿®å¤ postcss.config.mjs
# 2. æ£€æŸ¥å¹¶æ¸…ç† globals.css ä¸­çš„ @plugin, @theme inline ç­‰v4è¯­æ³•
# 3. æ¸…é™¤ç¼“å­˜å¹¶é‡å¯
```

### é—®é¢˜3: MCPå·¥å…·è¿”å›çš„ç»„ä»¶æ— æ³•ä½¿ç”¨

**ç—‡çŠ¶ï¼š**
- ä»21st.devå¤åˆ¶çš„ç»„ä»¶ä»£ç æ— æ³•æ­£å¸¸æ˜¾ç¤º

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ç»„ä»¶ä»£ç ä¸­çš„é¢œè‰²ç±»å
2. åœ¨ `tailwind.config.ts` ä¸­æ·»åŠ é¢œè‰²å®šä¹‰
3. æ£€æŸ¥å¹¶å®‰è£…ç»„ä»¶ä¾èµ–çš„npmåŒ…
4. é‡å¯å¼€å‘æœåŠ¡å™¨

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
junyue-spa/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (user)/            # ç”¨æˆ·ç«¯è·¯ç”±ç»„
â”‚   â”‚   â”œâ”€â”€ (therapist)/       # æŠ€å¸ˆç«¯è·¯ç”±ç»„
â”‚   â”‚   â”œâ”€â”€ (admin)/           # ç®¡ç†ç«¯è·¯ç”±ç»„
â”‚   â”‚   â””â”€â”€ api/               # APIè·¯ç”±
â”‚   â”œâ”€â”€ components/            # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/                # shadcn/uiç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ user/              # ç”¨æˆ·ç«¯ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ therapist/         # æŠ€å¸ˆç«¯ç»„ä»¶
â”‚   â”‚   â””â”€â”€ admin/             # ç®¡ç†ç«¯ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                   # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/                 # TypeScriptç±»å‹
â”œâ”€â”€ prisma/                    # æ•°æ®åº“Schema
â”œâ”€â”€ public/                    # é™æ€èµ„æº
â”œâ”€â”€ .cursorrules               # Cursor AIå¼€å‘è§„èŒƒ
â”œâ”€â”€ tailwind.config.ts         # Tailwindé…ç½® âš ï¸ v3è¯­æ³•
â””â”€â”€ package.json               # ä¾èµ–ç®¡ç†
```

---

## ğŸ”§ å¼€å‘è§„èŒƒ

### UIç»„ä»¶å¼€å‘

1. **ä¼˜å…ˆä½¿ç”¨è®¾è®¡æ–¹æ¡ˆä¸­çš„35ä¸ªç»„ä»¶**
2. **ä½¿ç”¨21st.dev MCPå·¥å…·è·å–æ–°ç»„ä»¶**
3. **ç¦æ­¢æ‰‹åŠ¨ç¼–å†™UIç»„ä»¶**
4. **æ·»åŠ ç»„ä»¶åæ£€æŸ¥æ¸…å•ï¼š**
   - [ ] é¢œè‰²ç±»åå·²åœ¨ `tailwind.config.ts` ä¸­å®šä¹‰
   - [ ] npmä¾èµ–å·²å®‰è£…
   - [ ] å¼€å‘æœåŠ¡å™¨å·²é‡å¯
   - [ ] UIæ•ˆæœæ­£å¸¸æ˜¾ç¤º

---

## ğŸ“¦ å¯ç”¨è„šæœ¬

```bash
# å¼€å‘æœåŠ¡å™¨
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start

# ä»£ç æ£€æŸ¥
npm run lint

# æ•°æ®åº“è¿ç§»
npm run db:migrate

# æ•°æ®åº“ç§å­æ•°æ®
npm run db:seed
```

---

## ğŸ¤ å¼€å‘è€…

- å¼€å‘æ¨¡å¼ï¼šå•äººå…¨æ ˆå¼€å‘
- AIè¾…åŠ©ï¼šCursor + Claude 4.0

---

## ğŸ“ License

MIT
