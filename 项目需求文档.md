# 君悦SPA - 技师展示平台需求文档

> **项目定位**: 技师信息展示平台 + 客服中介预约系统  
> **商业模式**: 用户浏览技师 → 联系客服 → 客服撮合预约 → 平台收取中介费  
> **版本**: v2.0  
> **更新日期**: 2025-10-11

---

## 📋 项目概述

君悦SPA是一个技师信息展示平台，用户可以公开浏览技师的照片、视频和基本信息，但**不能直接看到联系方式**。用户需要通过平台客服进行预约，确保所有交易通过平台完成，实现盈利。

### 核心特点
- ✅ 公开展示技师信息（无需登录）
- ❌ 隐藏技师联系方式（仅管理端可见）
- ✅ 客服中介预约模式
- ✅ 技师自主注册和资料管理
- ✅ 管理端审核和管理

---

## 🎯 核心业务流程

### 用户流程
```
浏览首页 → 查看技师列表 → 筛选/搜索技师 → 查看技师详情 
→ 点击"联系客服预约" → 添加客服微信 → 告知看中的技师 
→ 客服撮合预约 → 线下服务 → 平台收取服务费
```

### 技师流程
```
注册账号 → 填写基本信息 → 上传照片/视频 → 提交审核 
→ 等待管理员审核 → 审核通过 → 信息展示在平台 
→ 接收客服分配的客户 → 提供服务
```

### 客服流程
```
接收用户咨询 → 了解用户需求 → 查看技师联系方式（管理端） 
→ 联系技师确认 → 撮合双方预约 → 收取服务费
```

---

## 💎 功能模块

### 一、用户端（公开访问，无需登录）

#### 1.1 首页
- **Hero区域**: 品牌展示、宣传语
- **推荐技师**: 展示3-6位推荐技师卡片
- **新技师**: 展示最新加入的技师
- **公告栏**: 平台公告和活动信息
- **客服入口**: 悬浮客服按钮（右下角）

#### 1.2 技师列表页
**展示内容**:
- 技师卡片（照片、昵称、年龄、身高、体重、城市）
- 状态标签（推荐、新人、在线）
- 分页加载

**筛选功能**:
- 城市筛选（下拉选择）
- 区域筛选（二级联动）
- 年龄范围筛选
- 身高范围筛选
- 在线状态筛选
- 推荐技师筛选
- 新技师筛选

**搜索功能**:
- 关键词搜索（姓名、城市）

**排序功能**:
- 按注册时间排序
- 按在线状态排序

#### 1.3 技师详情页
**展示内容**:
- 照片轮播（3D Carousel）
- 个人视频播放
- 基本信息（昵称、年龄、身高、体重、城市、区域）
- 个人介绍
- 服务特色标签
- 服务方式（上门/到店/协商）
- 服务地址（如果有）
- 可服务时间（如果设置）

**❌ 不展示内容**:
- 手机号
- 微信号
- QQ号
- 其他联系方式

**操作按钮**:
- ✅ **"联系客服预约"按钮**（醒目位置）
- 点击弹出客服微信二维码
- 显示客服工作时间

#### 1.4 客服联系功能
**悬浮客服按钮**:
- 固定在右下角
- 金色渐变样式
- 脉冲动画效果
- 点击弹出客服信息

**客服信息弹窗**:
- 客服微信二维码（大图）
- 客服微信号（可复制）
- 客服电话
- 工作时间
- 预约提示文案

---

### 二、技师端

#### 2.1 注册与认证
**注册流程**:
- 手机号注册
- 设置密码
- 邀请码（可选）
- 填写基本信息（昵称、年龄、身高、体重）

**资料完善**:
- 上传照片（至少3张，最多10张）
- 上传视频（可选，最多3个）
- 填写个人介绍
- 选择服务城市和区域
- 设置服务方式
- 填写服务地址（可选）
- 设置联系方式（手机号、微信、QQ）
- 设置可服务时间（可选）

**审核流程**:
- 提交审核
- 等待管理员审核（48小时内）
- 审核通过 → 信息展示在平台
- 审核不通过 → 查看原因，修改后重新提交

#### 2.2 资料管理
- 编辑基本信息
- 管理照片（上传、删除、排序）
- 管理视频（上传、删除）
- 更新个人介绍
- 修改服务区域
- 更新联系方式
- 管理可服务时间

#### 2.3 状态管理
- 在线/离线状态切换
- 查看审核状态
- 查看资料完整度

#### 2.4 通知消息
- 审核结果通知
- 系统通知
- 公告通知

---

### 三、管理端

#### 3.1 管理员登录
- 用户名+密码登录
- 角色权限管理（超级管理员、管理员、运营）

#### 3.2 技师审核
**待审核列表**:
- 查看待审核技师列表
- 显示提交时间
- 快速筛选（全部/待审核/已通过/已拒绝）

**审核详情**:
- 查看技师完整信息
- 查看所有照片
- 播放视频
- ✅ **查看联系方式**（手机号、微信、QQ）
- 审核操作（通过/拒绝+原因）

#### 3.3 技师管理
**技师列表**:
- 查看所有技师
- 筛选（状态/城市/注册时间）
- 搜索（姓名/手机号）
- 分页显示

**技师详情**:
- 查看完整信息
- ✅ **查看联系方式**（用于客服撮合）
- 编辑技师信息
- 设为推荐技师
- 设为新技师
- 封禁/解封

**批量操作**:
- 批量设为推荐
- 批量取消推荐
- 批量封禁

#### 3.4 数据统计
**核心指标**:
- 技师总数
- 今日新增技师
- 待审核技师数
- 审核通过率
- 城市分布
- 在线技师数

**图表展示**:
- 技师增长趋势（折线图）
- 城市分布（饼图）
- 审核状态分布（柱状图）

#### 3.5 客服管理
**客服配置**:
- 上传客服微信二维码
- 设置客服微信号
- 设置客服电话
- 设置工作时间
- 多客服管理（可添加多个客服）

#### 3.6 系统管理
**公告管理**:
- 发布公告
- 编辑公告
- 删除公告
- 公告排序

**城市/区域管理**:
- 添加城市
- 添加区域
- 编辑/删除
- 启用/禁用

**系统配置**:
- 平台名称
- 平台Logo
- 联系方式
- 备案信息

---

## 🔒 权限控制

| 功能 | 用户端 | 技师端 | 管理端 |
|------|--------|--------|--------|
| 浏览技师信息 | ✅ | ✅ | ✅ |
| 查看技师照片/视频 | ✅ | ✅ | ✅ |
| **查看技师联系方式** | ❌ | ✅（自己的） | ✅（所有） |
| 联系客服 | ✅ | ✅ | - |
| 注册账号 | ❌ | ✅ | - |
| 上传/编辑资料 | ❌ | ✅ | ✅ |
| 审核技师 | ❌ | ❌ | ✅ |
| 管理客服配置 | ❌ | ❌ | ✅ |

---

## 📊 数据库设计

### 核心数据表（10张）

1. **therapists** - 技师表
   - 基本信息、状态、标签

2. **therapist_profiles** - 技师资料表
   - 个人介绍、联系方式（加密）、服务信息

3. **therapist_photos** - 技师照片表
   - 照片URL、排序

4. **therapist_videos** - 技师视频表
   - 视频URL、封面、时长

5. **therapist_schedules** - 技师时间表
   - 可服务时间段

6. **cities** - 城市表
   - 城市列表

7. **areas** - 区域表
   - 区域列表（关联城市）

8. **admins** - 管理员表
   - 管理员账号、角色

9. **notifications** - 通知表
   - 系统通知、审核通知

10. **announcements** - 公告表
    - 平台公告

11. **customer_services** - 客服配置表
    - 客服微信二维码、联系方式、工作时间

---

## 🎨 UI设计风格

### 设计理念
**奢华极简主义（Luxury Minimalism）**
- 深色系主题（暗夜黑 + 金色点缀）
- 玻璃拟态效果（Glassmorphism）
- 流畅丝滑动画
- 3D深度感

### 主色调
- 主色：金色 (#D4AF37)
- 辅色：紫色 (#8B5CF6)
- 背景：深黑 (#0B0C0F)
- 玻璃：半透明白 (rgba(255,255,255,0.1))

### 核心组件
- Gaming Login（登录页）
- Gallery Hover Carousel（技师列表）
- 3D Carousel（技师照片轮播）
- Liquid Glass Card（卡片组件）
- Customer Service Button（客服按钮）

---

## 🔧 技术实现

### 技术栈
- **前端**: Next.js 14 (App Router) + TypeScript
- **样式**: Tailwind CSS v3.4.17 + 21st.dev组件
- **数据库**: PostgreSQL 16 + Prisma ORM
- **认证**: NextAuth.js v5（仅技师端和管理端）
- **文件存储**: 本地存储 + Nginx静态托管
- **图片处理**: Sharp（压缩+WebP转换）

### API设计
**公开API（无需认证）**:
- `GET /api/therapists` - 获取技师列表
- `GET /api/therapists/[id]` - 获取技师详情
- `GET /api/cities` - 获取城市列表
- `GET /api/customer-services` - 获取客服信息

**技师端API（需认证）**:
- `POST /api/therapist/auth/register` - 技师注册
- `POST /api/therapist/auth/login` - 技师登录
- `GET /api/therapist/profile` - 获取资料
- `PUT /api/therapist/profile` - 更新资料
- `POST /api/therapist/photos` - 上传照片
- `POST /api/therapist/videos` - 上传视频

**管理端API（需认证）**:
- `POST /api/admin/auth/login` - 管理员登录
- `GET /api/admin/therapists/pending` - 待审核列表
- `POST /api/admin/therapists/[id]/approve` - 审核通过
- `POST /api/admin/therapists/[id]/reject` - 审核拒绝
- `GET /api/admin/therapists` - 技师列表
- `PUT /api/admin/customer-services` - 更新客服配置

---

## 💰 商业模式

### 盈利方式
1. **服务中介费**: 每笔预约收取一定比例的服务费
2. **技师推广费**: 技师可付费成为推荐技师，获得更多曝光
3. **广告位**: 首页广告位招商

### 收费标准（示例）
- 基础服务：498元/次，平台收取20%（99.6元）
- 进阶服务：598元/次，平台收取20%（119.6元）
- 奢华服务：698元/次，平台收取20%（139.6元）
- 推荐位：500元/月/技师

### 客服工作流程
1. 接收用户咨询（微信/电话）
2. 了解用户需求（服务类型、时间、地点）
3. 在管理端查看技师联系方式
4. 联系技师确认时间和价格
5. 告知用户确认信息
6. 收取定金或全款
7. 协调双方完成服务
8. 服务完成后结算

---

## 📈 运营策略

### 冷启动方案
1. **技师招募**: 通过线下渠道招募优质技师
2. **内容建设**: 确保每位技师有高质量照片和介绍
3. **客服培训**: 培训专业客服团队
4. **推广引流**: 社交媒体、本地论坛推广

### 长期发展
1. **品牌建设**: 打造高端SPA服务平台形象
2. **服务标准化**: 建立服务质量标准和评价体系
3. **规模扩张**: 逐步覆盖更多城市
4. **增值服务**: 开发会员系统、套餐服务等

---

## ⚠️ 重要说明

### 法律合规
- 平台仅提供信息展示和中介服务
- 不直接参与服务提供
- 技师需提供真实身份信息
- 遵守当地法律法规

### 隐私保护
- 技师联系方式加密存储
- 仅管理端客服可查看
- 用户端完全隐藏
- 定期安全审计

### 风险控制
- 技师身份审核
- 服务质量监控
- 用户投诉处理
- 纠纷调解机制

---

**文档版本**: v2.0  
**最后更新**: 2025-10-11  
**文档状态**: 已完成调整
